{"componentChunkName":"component---gatsby-theme-maskzh-src-templates-blog-post-tsx","path":"/Mac 文件批量重命名/","result":{"data":{"site":{"siteMetadata":{"title":"ZYC's Blog"}},"markdownRemark":{"html":"<p>Mac 已经自带了文件批量重命名的功能。但只支持 Index、Counter、Date 三种模式。</p>\n<p>我想直接用文件的 MD5 作为文件名。既避免重复，也不用动脑子命名。（虽然有一定可能会碰撞，但忽略不计）。</p>\n<p>最后用 Mac 的 Automator 实现，可以有比较好的体验。</p>\n<ol>\n<li>打开 Automator，选择 Quick Action。</li>\n<li>选择 Run Shell Script</li>\n<li>编写脚本代码</li>\n</ol>\n<p>脚本的代码如下：</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token keyword\">for</span> <span class=\"token for-or-select variable\">file</span> <span class=\"token keyword\">in</span> <span class=\"token string\">\"<span class=\"token variable\">$@</span>\"</span>\n<span class=\"token keyword\">do</span>\n\t<span class=\"token assign-left variable\">md5</span><span class=\"token operator\">=</span><span class=\"token variable\"><span class=\"token variable\">`</span>/usr/local/bin/md5sum $file <span class=\"token operator\">|</span> <span class=\"token function\">cut</span> -d <span class=\"token string\">' '</span> -f1<span class=\"token variable\">`</span></span>\n  \t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">[</span> <span class=\"token operator\">!</span> <span class=\"token variable\">${md5}</span> <span class=\"token punctuation\">]</span> <span class=\"token punctuation\">;</span><span class=\"token keyword\">then</span>\n    \t<span class=\"token builtin class-name\">exit</span> <span class=\"token number\">113</span>\n  \t<span class=\"token keyword\">fi</span>\n\n\t<span class=\"token assign-left variable\">basename</span><span class=\"token operator\">=</span><span class=\"token variable\"><span class=\"token variable\">`</span><span class=\"token function\">dirname</span> $file<span class=\"token variable\">`</span></span>/<span class=\"token variable\">${md5<span class=\"token operator\">:</span>0<span class=\"token operator\">:</span>6}</span><span class=\"token builtin class-name\">.</span><span class=\"token variable\">${file<span class=\"token operator\">##</span>*.}</span>\n  \t<span class=\"token function\">mv</span> <span class=\"token variable\">$file</span> <span class=\"token variable\">$basename</span>\n<span class=\"token keyword\">done</span></code></pre></div>\n<p>最后像这样</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/0680b99bb5416cc2698ad4a7cb40db49/dd104/0680b9.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 77.99999999999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAAAsTAAALEwEAmpwYAAACuUlEQVQ4y22UCW/iMBCFAyQNAVogBwm5nJMA4YZySd0uQlv+/y966zFkRbVF+jSO8/w8g8eRhsMhdF2Hbdvo9/vodDooigK73Q7v73uU0zHS6Rb96IS+4+F4uWG7XiHLc2RZxsmRJwzx8g80M4OkqioURREYhiHMB4MBGGNIkgS+78N2XLz1TDS1Fnq6gV6vKzZut9vovL6i1dIgqy3ILxok/kMFiSzLEhkej0cex8jTBHm5Q5cd8KytqNVq/8Zyo/7dUFFkbmjC4Fku5nMc9ntuGKFYHPEW//rR8Jl6nZv7YQwviEAxYAmiJIfrM4RRhiQb85iCxTn8aMTnw4c24tpYQGOaH3ohXM+H1LV8RMUS6WTDWaOYv6Otu5CUDmStD7llcHQoHIr1Zk/EBn9XU7ucnhgrWhdesYfUaTXhey5OxwOmE/6fZSlGWQxncoVUV7+VpDVVWKaOt9cO8jzFbrvBerVEMcrRz35DD0pIZTnFdFpiPl+ImKQpHMeB7cXQDUucvGGYME1TtJbHy3JdD0EQIuVa6oQoimENGUw2gzSdTnA+n7nhXJwssdlscD4dcDodsV5vsN1uMZlMhGY0GiGOY/FMLeV5HsIwhG0ZsMjQHljCgBbdbjdcLhchpk2ofWgxZUF9GUWRgAxonmIQBOKdzXvXYnNInjsU/Ubpk5h2ragWVkakqUyeuRtasKKH4cfHB67XKz4/P0X8+voSpZdliT3vRapgtVqJuZxfOTJ5Nv5muFousFgshZBKnM1mwug522ohHUhlVkGHw1jED2xQZehwoQvPdeHyDwVBz0FAJQd3ggfP4wekYyy8Z0iH8qI2YVgOtPYbdHPAL3sPdfkFDVnl8X8aP6E0IdUaMEKeYZDNxOUPszky/pliowWGbAw3mnDGgmEFn3fCEewg52QYEP4dy0/F2r+pMqbsL+mVzAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"IMAGE\"\n        title=\"IMAGE\"\n        src=\"/static/0680b99bb5416cc2698ad4a7cb40db49/5a190/0680b9.png\"\n        srcset=\"/static/0680b99bb5416cc2698ad4a7cb40db49/772e8/0680b9.png 200w,\n/static/0680b99bb5416cc2698ad4a7cb40db49/e17e5/0680b9.png 400w,\n/static/0680b99bb5416cc2698ad4a7cb40db49/5a190/0680b9.png 800w,\n/static/0680b99bb5416cc2698ad4a7cb40db49/dd104/0680b9.png 1064w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>","rawMarkdownBody":"\nMac 已经自带了文件批量重命名的功能。但只支持 Index、Counter、Date 三种模式。\n\n我想直接用文件的 MD5 作为文件名。既避免重复，也不用动脑子命名。（虽然有一定可能会碰撞，但忽略不计）。\n\n最后用 Mac 的 Automator 实现，可以有比较好的体验。\n\n1. 打开 Automator，选择 Quick Action。\n2. 选择 Run Shell Script\n3. 编写脚本代码\n\n脚本的代码如下：\n\n```bash\nfor file in \"$@\"\ndo\n\tmd5=`/usr/local/bin/md5sum $file | cut -d ' ' -f1`\n  \tif [ ! ${md5} ] ;then\n    \texit 113\n  \tfi\n\n\tbasename=`dirname $file`/${md5:0:6}.${file##*.}\n  \tmv $file $basename\ndone\n```\n\n最后像这样\n\n![IMAGE](./0680b9.png)\n","timeToRead":1,"wordCount":{"paragraphs":9,"sentences":9,"words":33},"frontmatter":{"title":"Mac 文件批量重命名","tags":["Mac"],"created":"2020-03-26"}}},"pageContext":{"slug":"/Mac 文件批量重命名/","language":"en","i18n":{"language":"en","languages":["en","zh"],"defaultLanguage":"en","routed":false,"resources":{"en":{"translation":{"create date":"CREATE DATE","search articles":"Search","articles":"Articles"}}},"originalPath":"/Mac 文件批量重命名/","path":"/Mac 文件批量重命名/"}}},"staticQueryHashes":["1985809839","1985809839","63159454"]}