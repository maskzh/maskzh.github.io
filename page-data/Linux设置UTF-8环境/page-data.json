{"componentChunkName":"component---gatsby-theme-maskzh-src-templates-blog-post-tsx","path":"/Linux设置UTF-8环境/","result":{"data":{"site":{"siteMetadata":{"title":"ZYC's Blog"}},"markdownRemark":{"html":"<p><a href=\"https://perlgeek.de/en/article/set-up-a-clean-utf8-environment\">原文链接</a></p>\n<p>Linux 下经常会有无法显示中文，无法显示非 ASCII 字符等情况。将系统的语言编码设置为 UTF-8 可以解决这些语言和显示的问题。</p>\n<h3>Locales: 安装</h3>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ dpkg -l locales\n<span class=\"token assign-left variable\">Desired</span><span class=\"token operator\">=</span>Unknown/Install/Remove/Purge/Hold\n<span class=\"token operator\">|</span> <span class=\"token assign-left variable\">Status</span><span class=\"token operator\">=</span>Not/Inst/Conf-files/Unpacked/halF-conf/Half-inst/trig-aWait/Trig-pend\n<span class=\"token operator\">|</span>/ Err?<span class=\"token operator\">=</span><span class=\"token punctuation\">(</span>none<span class=\"token punctuation\">)</span>/Reinst-required <span class=\"token punctuation\">(</span>Status,Err: <span class=\"token assign-left variable\">uppercase</span><span class=\"token operator\">=</span>bad<span class=\"token punctuation\">)</span>\n<span class=\"token operator\">||</span>/ Name           Version       Architecture Description\n+++-<span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span>-<span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">=</span>-<span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span>-<span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span>\nii  locales        <span class=\"token number\">2.31</span>-0ubuntu9 all          GNU C Library: National Language <span class=\"token punctuation\">(</span>locale<span class=\"token punctuation\">)</span> data <span class=\"token punctuation\">[</span>support<span class=\"token punctuation\">]</span></code></pre></div>\n<p>看最后一行，如果它的开头是<code>ii</code>，说明<code>locales</code>已经安装。如果不是，你需要在 <code>root</code> 权限下安装<code>locales</code>。</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">aptitude</span> <span class=\"token function\">install</span> locales</code></pre></div>\n<h3>Locales: 生成</h3>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">dpkg-reconfigure locales</code></pre></div>\n<p>此时会展示一个界面，列出了所有的 <code>locales</code> 项目。\n通过按上下方向键，找到<code>en_US-UTF-8</code>，按空格选中它，然后按左右方向键激活下一步，回车即可。\n<code>en_US-UTF-8</code>是最常使用的语言编码，如果你想直接使用中文，也可以选择<code>zh_CN-UTF-8</code>，其他语言则自行选择，只要是<code>UTF-8</code>就行。</p>\n<h3>Locales：配置</h3>\n<p>根据你上一步选择的语言编码。将以下的环境变量添加到 shell 设置中。</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\"><span class=\"token environment constant\">LC_ALL</span></span><span class=\"token operator\">=</span>en_US.UTF-8\n<span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\"><span class=\"token environment constant\">LANG</span></span><span class=\"token operator\">=</span>en_US.UTF-8\n<span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\"><span class=\"token environment constant\">LANGUAGE</span></span><span class=\"token operator\">=</span>en_US.UTF-8</code></pre></div>\n<p>如果是 <code>bash</code>，添加到<code>.bashrc</code>，如果是<code>zsh</code>，添加到<code>.zshrc</code>中。\n然后执行<code>source ~/.bashrc</code>，Shell 现在已经能正常显示中文和非 ASCII 的字符了。你可能还需要重启机器或程序，才能让改动完全生效。</p>\n<h3>Locales：确认</h3>\n<p>输入<code>locale</code>，你会看到输出。</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">LANG=en_US.UTF-8\nLANGUAGE=en_US.UTF-8\nLC_CTYPE=&quot;en_US.UTF-8&quot;\nLC_NUMERIC=&quot;en_US.UTF-8&quot;\nLC_TIME=&quot;en_US.UTF-8&quot;\nLC_COLLATE=&quot;en_US.UTF-8&quot;\nLC_MONETARY=&quot;en_US.UTF-8&quot;\nLC_MESSAGES=&quot;en_US.UTF-8&quot;\nLC_PAPER=&quot;en_US.UTF-8&quot;\nLC_NAME=&quot;en_US.UTF-8&quot;\nLC_ADDRESS=&quot;en_US.UTF-8&quot;\nLC_TELEPHONE=&quot;en_US.UTF-8&quot;\nLC_MEASUREMENT=&quot;en_US.UTF-8&quot;\nLC_IDENTIFICATION=&quot;en_US.UTF-8&quot;\nLC_ALL=en_US.UTF-8</code></pre></div>\n<p>至此就完成了语言编码的设置了。</p>","rawMarkdownBody":"\n[原文链接](https://perlgeek.de/en/article/set-up-a-clean-utf8-environment)\n\nLinux 下经常会有无法显示中文，无法显示非 ASCII 字符等情况。将系统的语言编码设置为 UTF-8 可以解决这些语言和显示的问题。\n\n### Locales: 安装\n\n```bash\n$ dpkg -l locales\nDesired=Unknown/Install/Remove/Purge/Hold\n| Status=Not/Inst/Conf-files/Unpacked/halF-conf/Half-inst/trig-aWait/Trig-pend\n|/ Err?=(none)/Reinst-required (Status,Err: uppercase=bad)\n||/ Name           Version       Architecture Description\n+++-==============-=============-============-========================================================\nii  locales        2.31-0ubuntu9 all          GNU C Library: National Language (locale) data [support]\n\n```\n\n看最后一行，如果它的开头是`ii`，说明`locales`已经安装。如果不是，你需要在 `root` 权限下安装`locales`。\n\n```bash\naptitude install locales\n```\n\n### Locales: 生成\n\n```bash\ndpkg-reconfigure locales\n```\n\n此时会展示一个界面，列出了所有的 `locales` 项目。\n通过按上下方向键，找到`en_US-UTF-8`，按空格选中它，然后按左右方向键激活下一步，回车即可。\n`en_US-UTF-8`是最常使用的语言编码，如果你想直接使用中文，也可以选择`zh_CN-UTF-8`，其他语言则自行选择，只要是`UTF-8`就行。\n\n### Locales：配置\n\n根据你上一步选择的语言编码。将以下的环境变量添加到 shell 设置中。\n\n```bash\nexport LC_ALL=en_US.UTF-8\nexport LANG=en_US.UTF-8\nexport LANGUAGE=en_US.UTF-8\n```\n\n如果是 `bash`，添加到`.bashrc`，如果是`zsh`，添加到`.zshrc`中。\n然后执行`source ~/.bashrc`，Shell 现在已经能正常显示中文和非 ASCII 的字符了。你可能还需要重启机器或程序，才能让改动完全生效。\n\n### Locales：确认\n\n输入`locale`，你会看到输出。\n\n```\nLANG=en_US.UTF-8\nLANGUAGE=en_US.UTF-8\nLC_CTYPE=\"en_US.UTF-8\"\nLC_NUMERIC=\"en_US.UTF-8\"\nLC_TIME=\"en_US.UTF-8\"\nLC_COLLATE=\"en_US.UTF-8\"\nLC_MONETARY=\"en_US.UTF-8\"\nLC_MESSAGES=\"en_US.UTF-8\"\nLC_PAPER=\"en_US.UTF-8\"\nLC_NAME=\"en_US.UTF-8\"\nLC_ADDRESS=\"en_US.UTF-8\"\nLC_TELEPHONE=\"en_US.UTF-8\"\nLC_MEASUREMENT=\"en_US.UTF-8\"\nLC_IDENTIFICATION=\"en_US.UTF-8\"\nLC_ALL=en_US.UTF-8\n```\n\n至此就完成了语言编码的设置了。\n","timeToRead":2,"wordCount":{"paragraphs":12,"sentences":12,"words":57},"frontmatter":{"title":"Linux 设置 UTF-8 环境","tags":["Tech/Linux"],"created":"2020-07-23"}}},"pageContext":{"slug":"/Linux设置UTF-8环境/","language":"en","i18n":{"language":"en","languages":["en","zh"],"defaultLanguage":"en","routed":false,"resources":{"en":{"translation":{"home":"Home","not found":"Not found","create date":"CREATE DATE","search articles":"Search","articles":"Articles"}}},"originalPath":"/Linux设置UTF-8环境/","path":"/Linux设置UTF-8环境/"}}},"staticQueryHashes":["1985809839","1985809839","63159454"]}